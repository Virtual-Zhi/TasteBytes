<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Recipe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .recipe-header {
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .recipe-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .recipe-type {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .recipe-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            display: block;
        }

        .recipe-content {
            padding: 40px;
        }

        .prep-time {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .prep-time span {
            font-weight: bold;
            color: #ff6b6b;
        }

        .section {
            margin-bottom: 35px;
        }

        .section h2 {
            color: #333;
            font-size: 1.8em;
            margin-bottom: 15px;
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 10px;
        }

        .ingredients-list {
            list-style: none;
            padding: 0;
        }

        .ingredients-list li {
            padding: 12px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-left: 4px solid #ff6b6b;
            border-radius: 5px;
            transition: transform 0.2s;
        }

        /* .ingredients-list li:hover {
            transform: translateX(5px);
            background: #e9ecef;
        } */

        .instructions {
            line-height: 1.8;
            color: #555;
            font-size: 1.05em;
            white-space: pre-wrap;
        }

        .rating-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .rating-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .stars {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .star {
            font-size: 2.5em;
            cursor: pointer;
            color: #ddd;
            transition: all 0.2s;
        }

        .star:hover,
        .star.active {
            color: #ffc107;
            transform: scale(1.1);
        }

        .rating-display {
            font-size: 1.1em;
            color: #666;
            margin-top: 10px;
        }

        .back-button {
            display: inline-block;
            margin: 30px 40px;
            padding: 12px 30px;
            background: #ff6b6b;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .back-button:hover {
            background: #ee5a52;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .no-image {
            height: 400px;
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: #adb5bd;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="recipe-header">
            <h1 id="recipeName">Recipe Name</h1>
            <span class="recipe-type" id="recipeType">Type</span>
        </div>

        <div id="imageContainer"></div>

        <div class="recipe-content">
            <div class="prep-time">
                <!-- displays prep time -->
                ‚è±Ô∏è Prep Time: <span id="prepTime">0</span> minutes
            </div>

            <div class="section">
                <!-- displays ingrediants -->
                <h2>ü•ò Ingredients</h2>
                <ul class="ingredients-list" id="ingredientsList"></ul>
            </div>

            <div class="section">
                <!-- displays instructions -->
                <h2>üìù Instructions</h2>
                <div class="instructions" id="instructions">No instructions provided.</div>
            </div>

            <div class="rating-section">
                <!--  allows users to rate the recipe out of 5 stars -->
                <h3>Rate This Recipe</h3>
                <div class="stars" id="stars">
                    <!-- creates stars 1-5 -->
                    <span class="star" data-rating="1">‚òÖ</span>
                    <span class="star" data-rating="2">‚òÖ</span>
                    <span class="star" data-rating="3">‚òÖ</span>
                    <span class="star" data-rating="4">‚òÖ</span>
                    <span class="star" data-rating="5">‚òÖ</span>
                </div>
                <div class="rating-display" id="ratingDisplay">Click a star to rate</div>
            </div>
        </div>

        <a href="#" class="back-button" onclick="window.history.back(); return false;">‚Üê Back to Recipes</a>
    </div>

    <script>
        // Get recipe ID from URL 
        const urlParams = new URLSearchParams(window.location.search);
        const recipeId = urlParams.get('id');

        // hardcoded sample recipe example
        const sampleRecipe = {
            name: "Classic Chocolate Chip Cookies",
            type: "Dessert",
            cookTime: 25,
            image: "https://images.unsplash.com/photo-1499636136210-6f4ee915583e?w=800&q=80",
            ingredients: [
                "2 1/4 cups all-purpose flour",
                "1 tsp baking soda",
                "1 tsp salt",
                "1 cup (2 sticks) butter, softened",
                "3/4 cup granulated sugar",
                "3/4 cup packed brown sugar",
                "2 large eggs",
                "2 tsp vanilla extract",
                "2 cups chocolate chips"
            ],
            tips: "1. Preheat oven to 375¬∞F (190¬∞C).\n\n2. In a small bowl, combine flour, baking soda, and salt. Set aside.\n\n3. In a large bowl, beat softened butter with both sugars until creamy and light.\n\n4. Add eggs and vanilla extract to the butter mixture. Beat well.\n\n5. Gradually stir in the flour mixture until just combined.\n\n6. Fold in chocolate chips.\n\n7. Drop rounded tablespoons of dough onto ungreased cookie sheets, spacing them about 2 inches apart.\n\n8. Bake for 9-11 minutes or until golden brown around the edges.\n\n9. Let cool on baking sheet for 2 minutes, then transfer to a wire rack.\n\n10. Enjoy warm with a glass of milk!"
        };

        // load the recipe
        function loadRecipe() {
            displayRecipe(sampleRecipe);
            loadRating('sample');
        }

        function displayRecipe(recipe) {
            // set recipe name and type
            document.getElementById('recipeName').textContent = recipe.name;
            document.getElementById('recipeType').textContent = recipe.type;
            document.getElementById('prepTime').textContent = recipe.cookTime;

            // display image or placeholder
            const imageContainer = document.getElementById('imageContainer');
            if (recipe.image) {
                imageContainer.innerHTML = `<img src="${recipe.image}" alt="${recipe.name}" class="recipe-image">`;
            } else {
                imageContainer.innerHTML = '<div class="no-image">üì∑</div>';
            }

            // display ingredients
            const ingredientsList = document.getElementById('ingredientsList');
            ingredientsList.innerHTML = '';
            recipe.ingredients.forEach(ingredient => {
                const li = document.createElement('li');
                li.textContent = ingredient;
                ingredientsList.appendChild(li);
            });

            // display instructions
            document.getElementById('instructions').textContent = recipe.tips || 'No instructions provided.';
        }

        // rating functionality
        const stars = document.querySelectorAll('.star');
        const ratingDisplay = document.getElementById('ratingDisplay');

        stars.forEach(star => {
            star.addEventListener('click', function () {
                // gets which star the user clicked 
                const rating = parseInt(this.getAttribute('data-rating'));
                saveRating('sample', rating);
                updateStars(rating);
                ratingDisplay.textContent = `You rated this recipe ${rating} out of 5 stars`;
            });
        });

        function updateStars(rating) {
            // highlight the stars 
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function saveRating(recipeId, rating) {
            const ratings = JSON.parse(window.localStorage.getItem('recipeRatings') || '{}');
            ratings[recipeId] = rating;
            window.localStorage.setItem('recipeRatings', JSON.stringify(ratings));
        }

        function getRating(recipeId) {
            const ratings = JSON.parse(window.localStorage.getItem('recipeRatings') || '{}');
            return ratings[recipeId] || 0;
        }

        function loadRating(recipeId) {
            const rating = getRating('sample');
            if (rating > 0) {
                updateStars(rating);
                ratingDisplay.textContent = `You rated this recipe ${rating} out of 5 stars`;
            }
        }

        // Load the recipe when page loads
        loadRecipe();
    </script>
</body>

</html>